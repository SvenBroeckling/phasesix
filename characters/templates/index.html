{% extends 'base.html' %}
{% load i18n static sorl_thumbnail %}

{% block belownav %}
    <span class="social" style="position: fixed; bottom: 5px; right: 5px">
        <a class="text-dark me-2" href="https://unsplash.com"><small class="text-dark">Photo by <a class="text-dark" href="https://unsplash.com/@hariprasad000?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Hari Nandakumar</a> on <a class="text-dark" href="https://unsplash.com/collections/96935862/gray?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></small></a>
        <a href="mailto:info@phasesix.org"><i class="fas fa-2x fa-envelope me-1 text-dark"></i></a>
        <a href="https://www.reddit.com/r/phasesix/"><i class="fab fa-2x fa-reddit text-dark"></i></a>
    </span>
{% endblock %}

{% block container_content %}
    <header class="masthead">
        <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
            <div class="d-flex justify-content-center">
                <div class="text-center">
                    <h1 class="mx-auto my-0 text-uppercase">PhaseSix</h1>
                    <h2 class="text-white-50 mx-auto mt-2 mb-5">{% trans 'A free, flexible role playing game.' %}</h2>
                        {% for c in characters %}
                            {% if c.image %}
                                <a href="{% url 'characters:detail' pk=c.id %}" class="mb-3">
                                    {% thumbnail c.image "300x300" crop="center" as im %}
                                        <img src="{{ im.url }}" class="img-fluid me-3 mb-3 rounded" alt="">
                                    {% endthumbnail %}
                                </a>{% if forloop.last %}<br>{% endif %}
                            {% endif %}
                        {% endfor %}
                    <br>
                    <a href="{% url 'rulebook:detail' pk=1 %}"
                       class="btn btn-outline-secondary btn-lg mt-4 me-2">{% trans 'Have a look at the rules' %}</a>
                    <a href="{% url 'characters:create_character' %}"
                       class="btn btn-outline-secondary btn-lg mt-4">{% trans 'Create a character' %}</a>
                </div>
            </div>
        </div>
    </header>

    <section class="about-section text-center" id="about">
        <div class="container pt-4 pb-2 pt-lg-5 pb-lg-3">
            <div class="row pt-5 justify-content-center">
                <div class="col-lg-8">
                    <h2 class="text-white mb-4">{% trans "Free online pen and paper rpg" %}</h2>
                    <p class="text-white-50">
                        {% blocktrans %}
                            Do you need a simple and fast rulebook to play your stories as a pen'n'paper roleplaying
                            game?
                            <em>Phase Six</em> is a quick to play roleplaying game rulebook that can be used in any
                            setting.
                            All you need to play is a handfull of regular six-sided dice and some paper.
                        {% endblocktrans %}
                    </p>
                    <p class="text-white-50">
                        {% blocktrans %}
                            This website lets you create and manage your characters as well as their equipment
                            and possessions.  This makes it really easy to use a platform like
                            <a href="https://roll20.net">Roll20</a> for your sessions.
                        {% endblocktrans %}
                    </p>
                    <p class="text-white-50">
                        {% blocktrans %}
                            Start now by taking a look at the rules or creating a character.
                        {% endblocktrans %}
                    </p>
                </div>
            </div>
        </div>
    </section>

    {% comment %}
    <section class="bg-dark text-light mb-4 w-100">
        <div id="lead-banner-indicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                {% for object in showcase_products.all %}
                    <li data-target="#lead-banner-indicators" data-slide-to="{{ forloop.counter0 }}"
                        {% if forloop.first %}class="active"{% endif %}></li>
                {% endfor %}
            </ol>

            <div class="carousel-inner">
                {% for object in showcase_products.all %}
                    <div class="carousel-item{% if forloop.first %} active{% endif %}"
                         data-interval="{{ object.showcase_carousel_interval }}">
                        <div class="container pb-5 pt-5">
                            <div class="row">
                                <div class="col-12 col-md-8">
                                    <a href="{{ object.get_absolute_url }}">
                                        {% with qs=object.productimage_set.all %}
                                            {% if qs.exists %}
                                                {% thumbnail qs.earliest.image "800" as im %}
                                                    <img src="{{ im.url }}" class="d-block img-fluid rounded"
                                                         alt="{{ object }}">
                                                {% endthumbnail %}
                                            {% endif %}
                                        {% endwith %}
                                        <p class="lead-price">
                                            {% blocktrans with t_from_price=object.cheapest_gross_price|floatformat:"2" %}
                                                From {{ t_from_price }} â‚¬{% endblocktrans %}</p>
                                    </a>
                                </div>
                                <div class="col-12 col-md-4 mt-4 mt-md-0">
                                    <h3 class="text-center">{{ object.showcase_header|safe }}</h3>
                                    <p class="text-justify">
                                        {{ object.description }}
                                    </p>
                                    <form action="{{ object.get_absolute_url }}" method="get">
                                        {% if object.showcase_character_name_form_enabled %}
                                            <div class="form-group mt-3">
                                                <input type="text" class="form-control" name="character_name"
                                                       placeholder="{% trans "Your child's name" %}">
                                            </div>
                                        {% endif %}
                                        <button type="submit"
                                                class="btn btn-lg btn-block btn-primary mt-3">{{ object.showcase_button_caption|safe }}</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <a class="carousel-control-prev" href="#lead-banner-indicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">{% trans 'Previous' %}</span>
            </a>
            <a class="carousel-control-next" href="#lead-banner-indicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">{% trans 'Next' %}</span>
            </a>
        </div>
    </section>
    {% endcomment %}
{% endblock %}
