{% extends 'characters/fragments/fragment_base.html' %}
{% load characters_extras rules_extras i18n %}

{% block fragment %}
    <div class="row">

        <div class="col-md-4">
            <table class="table">
                <thead>
                <tr>
                    <th>{% trans 'Persona' %}</th>
                    <th class="text-end">{% trans 'Value' %}</th>
                    <th class="text-end">{% trans 'Roll' %}</th>
                </tr>
                </thead>
                <tr>
                    <td>{% trans 'Openness' %}</td>
                    <td class="text-end">{% color_value_span object.openness 14 %}</td>
                    <td class="text-end">{% color_value_span object.openness_roll 14 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Conscientiousness' %}</td>
                    <td class="text-end">{% color_value_span object.conscientiousness 14 %}</td>
                    <td class="text-end">{% color_value_span object.conscientiousness_roll 14 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Extraversion' %}</td>
                    <td class="text-end">{% color_value_span object.extraversion 14 %}</td>
                    <td class="text-end">{% color_value_span object.extraversion_roll 14 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Agreeableness' %}</td>
                    <td class="text-end">{% color_value_span object.agreeableness 14 %}</td>
                    <td class="text-end">{% color_value_span object.agreeableness_roll 14 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Neuroticism' %}</td>
                    <td class="text-end">{% color_value_span object.neuroticism 14 %}</td>
                    <td class="text-end">{% color_value_span object.neuroticism_roll 14 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'IQ' %}</td>
                    <td class="text-end">{% color_value_span object.intelligence 100 14 %}</td>
                    <td class="text-end">{% color_value_span object.intelligence_roll 100 invert=True %}+</td>
                </tr>
            </table>
        </div>

        <div class="col-md-4">
            <table class="table">
                <thead>
                    <tr>
                        <th>{% trans 'Physis' %}</th>
                        <th class="text-end">{% trans 'Value' %}</th>
                        <th class="text-end">{% trans 'Roll' %}</th>
                    </tr>
                </thead>
                <tr>
                    <td>{% trans 'Deftness' %}</td>
                    <td class="text-end">{% color_value_span object.deftness 6 %}</td>
                    <td class="text-end">{% color_value_span object.deftness_roll 6 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Strength' %}</td>
                    <td class="text-end">{% color_value_span object.strength 6 %}</td>
                    <td class="text-end">{% color_value_span object.strength_roll 6 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Attractiveness' %}</td>
                    <td class="text-end">{% color_value_span object.attractiveness 6 %}</td>
                    <td class="text-end">{% color_value_span object.attractiveness_roll 6 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Endurance' %}</td>
                    <td class="text-end">{% color_value_span object.endurance 6 %}</td>
                    <td class="text-end">{% color_value_span object.endurance_roll 6 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Resistance' %}</td>
                    <td class="text-end">{% color_value_span object.resistance 6 %}</td>
                    <td class="text-end">{% color_value_span object.resistance_roll 6 invert=True %}+</td>
                </tr>
                <tr>
                    <td>{% trans 'Quickness' %}</td>
                    <td class="text-end">{% color_value_span object.quickness 100 %}</td>
                    <td class="text-end">{% color_value_span object.quickness_roll 6 invert=True %}+</td>
                </tr>
            </table>
        </div>

        <div class="col-md-4">
            {% if object.shadows.exists %}
                <table class="table">
                    <thead>
                    <tr>
                        <th>{% trans 'Shadows' %}</th>
                    </tr>
                    </thead>
                    {% for shadow in object.shadows.all %}
                        <tr>
                            {% if shadow.description %}
                                <td><a role="button" tabindex="0" data-bs-toggle="popover" data-trigger="focus" title="{{ shadow }}" data-content="{{ shadow.description }}">{{ shadow }}</a></td>
                            {% else %}
                                <td>{{ shadow }}</td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </table>
            {% endif %}

            {% if object.characterknowledge_set.exists %}
                <table class="table">
                    <thead>
                    <tr>
                        <th>{% trans 'Knowledge' %}</th>
                        <th class="text-end">{% trans 'Dice' %}</th>
                    </tr>
                    </thead>
                    {% for knowledge in object.characterknowledge_set.all %}
                        <tr>
                            <td>{{ knowledge.knowledge }}</td>
                            <td class="text-end">{% color_value_span knowledge.value 6 %}</td>
                        </tr>
                    {% endfor %}
                </table>
            {% endif %}
        </div>
    </div>

<div class="row mt-2">
    <div class="col-md-4">
        <table class="table">
            <thead>
            <tr>
                <th>{% trans 'Skills' %}</th>
                <th class="text-end">{% trans 'Dice' %}</th>
            </tr>
            </thead>
            {% for skill in object.characterskill_set.mind_skills %}
                <tr>
                    <td>{{ skill.skill }}</td>
                    <td class="text-end">{% color_value_span skill.value 6 %}</td>
                </tr>
            {% endfor %}
        </table>
    </div>

    <div class="col-md-4">
        <table class="table">
            <thead>
            <tr>
                <th>{% trans 'Skills' %}</th>
                <th class="text-end">{% trans 'Dice' %}</th>
            </tr>
            </thead>
            {% for skill in object.characterskill_set.practical_skills %}
                <tr>
                    <td>{{ skill.skill }}</td>
                    <td class="text-end">{% color_value_span skill.value 6 %}</td>
                </tr>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock %}
